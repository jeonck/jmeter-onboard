# JMeter와 Scouter의 차이점 및 통합 활용

## 두 도구의 근본적인 차이

JMeter와 Scouter는 성능 테스트에서 서로 다른 관점을 제공하는 도구입니다.

| 구분 | JMeter (부하 발생기) | Scouter (성능 모니터링) |
|------|---------------------|------------------------|
| 관점 | **외부(User)**에서 공격 | **내부(Server)**에서 관찰 |
| 역할 | 가상의 사용자 1,000명을 만들어 서버에 요청을 보냄 | 요청을 받은 서버 내부에 무슨 일이 일어나는지 감시 |
| 알 수 있는 것 | 응답 시간, 에러율, 초당 처리량(TPS) | CPU 점유율, 메모리 누수, 느린 DB 쿼리, 소스 코드 병목 |

## 통합 활용의 중요성

JMeter로 테스트를 했는데 응답 시간이 갑자기 느려졌다고 가정해 봅시다. JMeter 결과만 봐서는 "서버가 느리다"는 사실만 알 수 있지, "왜" 느린지는 알 수 없습니다. 이때 Scouter를 보면 다음과 같은 원인을 바로 찾아낼 수 있습니다.

- **XLog (엑스로그)**: 개별 요청이 처리되는 과정을 점으로 표시하여, 어떤 요청이 유독 오래 걸리는지 시각적으로 보여줍니다.
- **Heap Memory**: 서버의 메모리가 꽉 차서 정지(GC 발생)했는지 확인할 수 있습니다.
- **Service Dump**: 현재 서버에서 어떤 소스 코드 라인이 실행 중인지 스냅샷을 찍어 병목 지점을 찾습니다.

## 실습 시나리오 추천

지금 JMeter 실습 중이시라면 다음과 같은 흐름으로 연동해 보세요.

1. **Scouter 설치**: 모니터링 대상 서버(WAS)에 Scouter Agent를 심습니다.
2. **부하 발생**: JMeter로 스레드(Thread)를 서서히 올리며 서버에 부하를 줍니다.
3. **관찰**: Scouter 대시보드에서 TPS가 꺾이는 지점이나 메모리가 치솟는 지점을 찾습니다.
4. **분석**: 느려진 지점의 XLog를 드래그하여 어떤 SQL 쿼리나 메서드가 시간을 잡아먹었는지 확인합니다.

## 비유로 이해하기

- JMeter는 환자에게 무거운 짐을 들게 하는 체력 테스트기이고,
- Scouter는 그 환자의 심박수와 혈압을 실시간으로 체크하는 심전도기입니다.