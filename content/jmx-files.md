# JMX 파일의 이해와 활용

JMeter에서 생성한 모든 테스트 설계도는 **.jmx**라는 확장자를 가진 파일로 저장됩니다. 이 파일은 단순한 바이너리 파일이 아니라, 우리가 JMeter GUI에서 쌓은 '블록'들의 정보를 XML 형식으로 기록한 텍스트 파일입니다.

.jmx 파일의 특징과 활용법을 핵심만 정리해 드릴게요.

## 1. .jmx 파일의 정체: XML 기반 설계도

JMeter 상단 메뉴에서 File > Save를 누르면 생성되는 이 파일은 메모장(Notepad++)이나 VS Code로 열어볼 수 있습니다.

- **구조**: `<hashTree>`, `<HTTPSamplerProxy>`, `<elementProp>` 같은 태그들로 구성되어 있습니다.
- **장점**: 텍스트 기반이기에 Git 같은 버전 관리 도구에 올려서 팀원들과 공유하기 좋습니다. 수정 이력 관리도 가능하죠.

## 2. 왜 .jmx 파일 관리가 중요한가?

### ① 서버(CLI) 실행의 필수 요소

실제 성능 테스트 시에는 내 PC의 GUI를 끄고 명령어로 실행하는 것이 정석입니다. 이때 반드시 이 .jmx 파일 경로를 지정해줘야 합니다.

```bash
# GUI 없이 스크립트 실행하기
jmeter -n -t shopping_cart_test.jmx -l result.jtl
```

### ② 환경 변화에 대응 (변수화)

.jmx 파일을 직접 열어보면 IP 주소나 포트 번호가 하드코딩되어 있는 경우가 많습니다. 실무에서는 이 부분을 `${__P(server_ip, 127.0.0.1)}` 처럼 수정하여, 실행 시점에 외부에서 주소를 주입받도록 세팅하기도 합니다.

## 3. .jmx 파일 사용 시 주의사항 (트러블슈팅)

- **플러그인 의존성**: 만약 내 .jmx 파일에 'Custom Thread Group' 같은 별도 플러그인을 썼다면, 이 파일을 받은 다른 사람의 JMeter에도 동일한 플러그인이 설치되어 있어야 합니다. 그렇지 않으면 파일이 열리지 않거나 에러가 납니다.
- **버전 호환성**: 너무 낮은 버전의 JMeter에서 만든 .jmx는 최신 버전에서 열릴 때 호환성 경고가 뜰 수 있습니다. (반대의 경우도 마찬가지입니다.)
- **절대 경로 조심**: 스크립트 내에서 CSV 파일을 불러올 때 C:\Users\Admin\Desktop\data.csv처럼 절대 경로로 작성하면, 다른 컴퓨터(리눅스 서버 등)에서 실행할 때 파일을 못 찾는 에러가 발생합니다. 가급적 상대 경로로 작성하세요.

## 💡 실습 팁: .jmx 파일의 짝꿍 .jtl

.jmx가 설계도라면, 테스트 실행 결과가 담기는 파일은 **.jtl (JMeter Text Logs)**입니다.

- **.jmx**: 어떻게 테스트할 것인가?
- **.jtl**: 테스트 결과는 어떠했는가?