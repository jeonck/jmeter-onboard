# JMeter 플러그인 리스너 분석

jpgc - Standard Set 플러그인을 설치하면 사용 가능한 이 3대 리스너는 부하 테스트의 **'현재 상태(Threads)', '사용자 체감(Response Time)', '서버 처리량(TPS)'**을 동시에 분석할 수 있게 해주는 필수 도구입니다.

각 리스너의 핵심 지표와 분석 방법을 정리해 드립니다.

## 1. Active Threads Over Time (실시간 가상 사용자 수)

현재 테스트 중인 가상 사용자(VUser)가 몇 명이나 서버에 부하를 주고 있는지 시간 흐름에 따라 보여줍니다.

- **용도**: 부하가 설계한 대로(Step-up 등) 잘 올라가고 있는지 확인합니다.
- **분석 포인트**: 만약 테스트 설정은 100명인데 그래프가 50명에서 멈추거나 툭 떨어진다면, JMeter 실행 PC의 성능 부족이나 네트워크 연결 문제를 의심해야 합니다.
- **Scouter 연계**: Scouter의 Active Service 수치와 비교해 보세요. JMeter가 보낸 사용자 수에 비해 서버에서 처리 중인 서비스 수가 너무 많다면 서버 병목이 발생한 것입니다.

## 2. Response Times Over Time (응답 시간 추이)

테스트가 진행되는 동안 응답 시간(Latency)이 어떻게 변하는지 추적합니다.

- **용도**: 시스템의 지구력과 안정성을 평가합니다.
- **분석 포인트**:
  - **완만한 수평**: 시스템이 매우 안정적임.
  - **지속적인 우상향**: 서버 자원(메모리 등)이 고갈되고 있거나, 데이터가 쌓일수록 쿼리가 느려지는 현상(Index 부재 등)을 의미합니다.
  - **갑작스러운 스파이크**: Java의 Full GC가 발생했거나 서버 내 특정 스케줄러가 동작했을 확률이 높습니다.

## 3. Transactions per Second (TPS, 초당 처리량)

서버가 초당 몇 개의 요청을 성공적으로 처리하고 있는지 보여주는 가장 중요한 성능 지표입니다.

- **용도**: 서버의 최대 처리 용량을 판별합니다.
- **분석 포인트**:
  - **Success(초록) vs Failure(빨강)**: 사용자가 늘어날 때 어느 지점부터 에러가 발생하기 시작하는지 확인합니다.
  - **처리량의 한계**: 사용자(Active Threads)를 계속 늘리는데 TPS가 더 이상 올라가지 않고 일직선을 그린다면, 그 지점이 해당 시스템(t3.medium)의 **최대 성능(Saturation Point)**입니다.
  - **급격한 하락**: 서버가 부하를 견디지 못하고 프로세스가 죽거나 커넥션 풀이 고갈되어 응답 불능 상태에 빠진 것을 의미합니다.

## 💡 실무자들을 위한 종합 분석법 (Correlation Analysis)

이 3가지 그래프를 동시에 열어놓고 수직으로 비교하는 것이 실무 분석의 핵심입니다.

- **정상 상황**: Active Threads가 올라갈 때 TPS도 같이 올라가고, Response Time은 낮게 유지되어야 합니다.
- **임계점 도달**: Active Threads가 올라가는데 TPS는 정체되고, 동시에 Response Time이 급격히 상승하기 시작한다면 그곳이 서버의 한계입니다.
- **장애 발생**: TPS가 갑자기 0으로 떨어지고 Response Time이 무한대로 치솟는다면 서버가 다운된 것입니다. 이때 Scouter를 즉시 확인하여 CPU가 100%인지, DB Lock이 걸렸는지 파악해야 합니다.

## 🛠 리스너 활용 팁

- **Row Filtering**: 여러 요청(로그인, 조회, 주문)이 섞여 있어 그래프가 복잡하다면, 하단의 Rows 탭에서 보고 싶은 항목만 체크하여 집중 분석할 수 있습니다.
- **Settings 탭**: Use relative times를 체크하면 테스트 시작 시점을 0초로 고정하여 분석하기 더 편해집니다.