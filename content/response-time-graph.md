# JMeter Response Time Graph 리스너

Response Time Graph 리스너는 테스트가 진행되는 동안 시간의 흐름에 따라 응답 시간이 어떻게 변하는지를 선 그래프(Line Graph) 형태로 시각화해 주는 도구입니다.

'Summary Report'가 평균적인 숫자를 보여준다면, Response Time Graph는 서버의 성능이 언제, 어떤 시점에 불안정해졌는지를 포착하는 데 탁월합니다.

## 1. 주요 설정 및 기능

- **Interval (ms)**: 그래프의 X축 간격을 설정합니다. 예를 들어 1000으로 설정하면 1초 단위로 응답 시간을 집계하여 점을 찍습니다.

- **Sampler Selection**: 특정 요청(예: 로그인만, 혹은 주문만)의 응답 시간만 골라서 그래프로 그릴 수 있습니다.

- **Display Graph**: 설정한 조건에 따라 팝업 창이나 하단 탭에 그래프를 생성합니다.

- **Line Style**: 선의 굵기나 포인트 모양을 조절하여 가독성을 높일 수 있습니다.

## 2. 실무에서 이 그래프가 중요한 이유

### ① 성능 저하 시점 포착 (Performance Degradation)

테스트 시작 후 10분까지는 응답 시간이 일정하다가, 어느 순간부터 그래프가 우상향하기 시작한다면 **메모리 누수(Memory Leak)**나 DB 커넥션 풀 부족 등을 의심해 볼 수 있습니다.

### ② 스파이크(Spike) 현상 발견

평소에는 안정적이다가 갑자기 그래프가 솟구치는 지점이 있다면, 해당 시간에 서버에서 **Garbage Collection(GC)**이 길게 발생했거나 스케줄러가 동작했음을 짐작할 수 있습니다.

### ③ t3.medium 크레딧 소진 확인

T 시리즈 인스턴스는 CPU 크레딧을 다 쓰면 성능이 강제로 제한됩니다. 그래프가 완만하다가 특정 시점 이후 응답 시간이 계단식으로 훅 올라가서 내려오지 않는다면 크레딧 소진 여부를 확인해야 합니다.

## 3. Scouter와 함께 분석하는 법

Response Time Graph에서 튀는 지점을 발견하면 바로 Scouter의 XLog와 대조해 보세요.

- **JMeter 그래프의 고점**: Scouter XLog에서 y축 위쪽에 찍힌 점들과 일치합니다.

- **원인 파악**: Scouter에서 해당 점을 드래그하여 상세 프로파일링을 열면, 그 시점에 어떤 SQL이 느렸는지 혹은 어떤 외부 API 호출에서 대기가 발생했는지 바로 연결해서 분석할 수 있습니다.

## 4. 설정 팁: 가독성 높이기

- **Interval 조절**: 테스트 시간이 길다면 Interval을 크게(예: 5000ms), 짧고 강한 부하라면 작게(예: 500ms) 설정해야 그래프가 너무 뭉치거나 듬성듬성해지지 않습니다.

- **Filter 활용**: 모든 이미지와 CSS 호출까지 그래프에 그리면 선이 너무 많아져 분석이 불가능합니다. Transaction Controller 이름만 필터링해서 비즈니스 로직 위주로 그래프를 그리세요.

## ⚠️ 주의사항

모든 리스너와 마찬가지로, 이 기능도 실시간으로 그래프를 그릴 때 메모리를 사용합니다. 부하가 아주 높은 실제 테스트(CLI 모드) 시에는 비활성화하고, 나중에 .jtl 파일을 불러와서 결과를 시각화하는 용도로 사용하는 것이 가장 좋습니다.