# JMeter Transaction Control 기능

JMeter의 HTTP(S) Test Script Recorder에서 Transaction Control 기능은 레코딩되는 수많은 요청을 의미 있는 단위(로그인, 장바구니 담기 등)로 묶어주는 아주 중요한 관리 도구입니다.

템플릿을 사용하여 레코더를 생성하면, 화면 중앙에 이 기능을 제어하는 패널이 나타납니다. 주요 구성 요소와 활용법은 다음과 같습니다.

## 1. Transaction Control의 핵심 구성 요소

### ① Transaction Name (트랜잭션 이름 입력창)

**역할**: 현재 기록 중인 동작의 이름을 지정합니다.

**활용**: 브라우저에서 버튼을 클릭하기 직전에 '01_Home', '02_Login'처럼 이름을 입력합니다. 이렇게 하면 생성된 HTTP Request들이 해당 이름 아래로 그룹화되어 가독성이 비약적으로 상승합니다.

### ② Naming Policy (이름 지정 정책)

레코딩된 각 요청(Sampler)의 이름을 어떻게 지을지 결정합니다.

- **Prefix**: 입력한 트랜잭션 이름을 접두사로 붙입니다. (예: Login_Step - /login.do)
- **Transaction Name Only**: 개별 URL 주소를 무시하고 오직 트랜잭션 이름으로만 샘플러를 명명합니다.
- **Suffix**: 이름 뒤에 접미사로 붙입니다.

### ③ Create Transaction Controller (체크박스)

**역할**: 이 옵션을 체크하면, JMeter가 레코딩된 요청들을 Transaction Controller라는 '상위 블록' 안에 하나로 묶어줍니다.

**장점**: 나중에 Summary Report를 볼 때, 개별 이미지/페이지 요청 시간이 아니라 '로그인'이라는 전체 비즈니스 로직의 총 소요 시간을 한눈에 파악할 수 있습니다.

## 2. 레코딩 제어용 플로팅 바 (Floating Bar)

레코더에서 Start를 누르면 화면에 작은 팝업 창이 하나 뜹니다. 이 창은 브라우저로 실습하는 동안 JMeter 화면으로 돌아오지 않고도 트랜잭션을 제어하게 해줍니다.

- **Label (Transaction Name)**: 다음 동작의 이름을 실시간으로 변경합니다.
- **Apply Filter**: 필터링 규칙을 즉시 적용합니다.

## 3. 실무적인 활용 시나리오 (t3.medium 실습 기준)

장바구니 시나리오를 레코딩할 때 다음과 같이 조절해 보세요.

1. **메인 페이지 접속 전**: 이름을 01_Main으로 쓰고 브라우저 엔터.
2. **로그인 버튼 누르기 전**: 이름을 02_Login으로 바꾸고 클릭.
3. **상품 선택 전**: 이름을 03_ProductDetail로 바꾸고 클릭.
4. **장바구니 담기 전**: 이름을 04_AddCart로 바꾸고 클릭.

이렇게 레코딩된 .jmx 파일을 열어보면, Scouter에서 모니터링할 때도 "어떤 트랜잭션(단계)에서 서버 자원을 많이 쓰는지" 매칭하기가 훨씬 수월해집니다.

## 💡 왜 Transaction Controller가 중요한가요?

사용자는 "로그인 페이지 요청(10ms) + 데이터 전송(200ms) + 결과 페이지 로딩(50ms)"을 각각 느끼지 않고, 이 모든 게 합쳐진 '로그인' 속도를 경험합니다. Transaction Controller는 이 합산 수치를 자동으로 계산해주므로, 실제 사용자 경험에 근접한 데이터를 얻을 수 있습니다.